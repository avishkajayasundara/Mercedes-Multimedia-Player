{"version":3,"sources":["logo.svg","redux/types.js","redux/reducers/userReducer.js","redux/reducers/uiReducer.js","redux/store.js","redux/actions/userActions.js","firebase.js","images/1.jpg","components/slideshow.js","components/player.js","components/login.js","util/authRoute.js","util/authRouteLogged.js","App.js","reportWebVitals.js","index.js"],"names":["SET_AUTHENTICATED","SET_UNAUTHENTICATED","SET_USER","LOADING_USER","SET_ERRORS","LOADING_UI","CLEAR_ERRORS","STOP_LOADING_UI","initialState","authenticated","credentials","loading","errors","middleware","thunk","reducers","combineReducers","user","state","action","type","payload","UI","rent_errors","store","createStore","compose","applyMiddleware","logoutUser","dispatch","localStorage","removeItem","axios","defaults","headers","common","getUserData","a","get","result","data","room","console","log","setAuthorizationHeader","token","banger_token","setItem","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","messaging","slideshow","Carousel","fade","interval","Item","className","src","image1","alt","mapActionsToProps","connect","props","useState","setShow","currentlyPlaying","setCurrentlyPlaying","notification","setNotification","playlist","setPlaylist","setTokenFound","songPlaying","setSongPlaying","volume","setVolume","useEffect","getToken","vapidKey","then","currentToken","res","post","catch","err","body","parseFloat","songs","length","url","Promise","resolve","onMessage","controls","autoPlay","style","marginTop","onEnded","onVolumeChanged","event","srcElement","Button","variant","size","onClick","loginUser","user_data","history","results","push","response","password","setPassword","setErrors","minHeight","Container","Form","onSubmit","preventDefault","accessCode","Card","Group","controlId","Label","Control","error","value","onChange","e","target","required","hidden","disabled","Component","component","rest","render","to","role","baseURL","jwtDecode","exp","Date","now","window","location","href","App","exact","path","Player","Login","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.efbe71cd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","/* USER REDUCER TYPES */\r\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\r\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\r\nexport const SET_USER = \"SET_USER\";\r\nexport const LOADING_USER = \"LOADING_USER\";\r\n\r\n/* UI REDUCER TYPES */\r\nexport const SET_ERRORS = \"SET_ERRORS\";\r\nexport const LOADING_UI = \"LOADING_UI\";\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\r\nexport const STOP_LOADING_UI = \"STOP_LOADING_UI\";\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport {\r\n  SET_USER,\r\n  SET_UNAUTHENTICATED,\r\n  SET_AUTHENTICATED,\r\n  LOADING_USER,\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  authenticated: false,\r\n  credentials: {},\r\n  loading: false,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_AUTHENTICATED:\r\n      return {\r\n        ...state,\r\n        authenticated: true,\r\n      };\r\n    case SET_UNAUTHENTICATED:\r\n      return initialState;\r\n    case SET_USER:\r\n      return {\r\n        authenticated: true,\r\n        loading: false,\r\n        ...action.payload,\r\n      };\r\n    case LOADING_USER:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","/* eslint-disable import/no-anonymous-default-export */\r\n\r\nimport {\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  LOADING_UI,\r\n  STOP_LOADING_UI,\r\n} from \"../types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  errors: null,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: action.payload,\r\n      };\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: null,\r\n        rent_errors: null,\r\n      };\r\n    case LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case STOP_LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport uiReducer from \"./reducers/uiReducer\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst reducers = combineReducers({\r\n  user: userReducer,\r\n  UI: uiReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import axios from \"axios\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nimport {\r\n  SET_USER,\r\n  SET_ERRORS,\r\n  CLEAR_ERRORS,\r\n  LOADING_UI,\r\n  SET_UNAUTHENTICATED,\r\n  LOADING_USER,\r\n  STOP_LOADING_UI,\r\n} from \"../types\";\r\n\r\nexport const loginUser = (user_data, history) => async (dispatch) => {\r\n  dispatch({ type: LOADING_UI });\r\n\r\n  try {\r\n    let results = await axios.post(\"/room-login\", user_data);\r\n    setAuthorizationHeader(results.data.token);\r\n    let user = await dispatch(getUserData());\r\n    dispatch({ type: CLEAR_ERRORS });\r\n    history.push(\"/\");\r\n  } catch (error) {\r\n    dispatch({\r\n      type: SET_ERRORS,\r\n      payload: error.response?.data,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logoutUser = () => (dispatch) => {\r\n  localStorage.removeItem(\"token\");\r\n  delete axios.defaults.headers.common[\"Authorization\"];\r\n  dispatch({ type: SET_UNAUTHENTICATED });\r\n};\r\n\r\nexport const getUserData = () => async (dispatch) => {\r\n  dispatch({ type: LOADING_USER });\r\n  try {\r\n    let result = await axios.get(\"/logged-room\");\r\n    dispatch({\r\n      type: SET_USER,\r\n      payload: result.data.room,\r\n    });\r\n    return result.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst setAuthorizationHeader = (token) => {\r\n  const banger_token = `Bearer ${token}`;\r\n  localStorage.setItem(\"token\", banger_token);\r\n  axios.defaults.headers.common[\"Authorization\"] = banger_token;\r\n};\r\n","import axios from \"axios\";\nimport firebase from \"firebase/app\";\nimport \"firebase/messaging\";\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyCgE4iQJUFyVCuB_BVST-wwbzxgSwG0vZc\",\n  authDomain: \"starthack-796b2.firebaseapp.com\",\n  projectId: \"starthack-796b2\",\n  storageBucket: \"starthack-796b2.appspot.com\",\n  messagingSenderId: \"649713416037\",\n  appId: \"1:649713416037:web:ae2f1fc55d56de1321538c\",\n  measurementId: \"G-D1KGJJCMRL\",\n};\n\nfirebase.initializeApp(firebaseConfig);\nconst messaging = firebase.messaging();\n\nexport const getToken = (setTokenFound) => {\n  return messaging\n    .getToken({\n      vapidKey:\n        \"BKbe0GFVhnvWtMstQmIL0th5kyd2cF7Ezua06l2ga0163TIOa87Z9i844R-TOgMbwA7wHM8RHnD51l1U051bCqY\",\n    })\n    .then((currentToken) => {\n      if (currentToken) {\n        console.log(\"current token for client: \", currentToken);\n        setTokenFound(true);\n        return currentToken;\n        // Track the token -> client mapping, by sending to backend server\n        // show on the UI that permission is secured\n      } else {\n        console.log(\n          \"No registration token available. Request permission to generate one.\"\n        );\n        setTokenFound(false);\n        // shows on the UI that permission is required\n      }\n    })\n    .then((currentToken) => {\n      const res = axios.post(\"/room-token\", { token: currentToken });\n      console.log(\"result\", res);\n    })\n    .catch((err) => {\n      console.log(\"An error occurred while retrieving token. \", err);\n      // catch error while creating client token\n    });\n};\n\nexport const onMessageListener = () =>\n  new Promise((resolve) => {\n    messaging.onMessage((payload) => {\n      resolve(payload);\n    });\n  });\n","export default __webpack_public_path__ + \"static/media/1.62c42d2c.jpg\";","import React from \"react\";\r\nimport { Carousel } from \"react-bootstrap\";\r\nimport \"./slideshow.css\";\r\n\r\nimport image1 from \"../images/1.jpg\";\r\n\r\nexport default function slideshow() {\r\n  return (\r\n    <Carousel fade interval={3000}>\r\n      <Carousel.Item>\r\n        <img className=\"d-block w-100 image\" src={image1} alt=\"First slide\" />\r\n      </Carousel.Item>\r\n      <Carousel.Item>\r\n        <img\r\n          className=\"d-block w-100 image\"\r\n          src=\"https://i.pinimg.com/originals/7d/36/6c/7d366c1ee7625c7873db32107265ec47.jpg\"\r\n          alt=\"Second slide\"\r\n        />\r\n      </Carousel.Item>\r\n      <Carousel.Item>\r\n        <img\r\n          className=\"d-block w-100 image\"\r\n          src=\"https://wallpaperaccess.com/full/195879.jpg\"\r\n          alt=\"Third slide\"\r\n        />\r\n      </Carousel.Item>\r\n    </Carousel>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactAudioPlayer from \"react-audio-player\";\r\nimport { getToken, onMessageListener } from \"../firebase\";\r\nimport \"./app.css\";\r\nimport \"./player.css\";\r\nimport axios from \"axios\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Slideshow from \"./slideshow\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { logoutUser } from \"../redux/actions/userActions\";\r\n\r\nfunction Player(props) {\r\n  const [show, setShow] = useState(false);\r\n  const [currentlyPlaying, setCurrentlyPlaying] = useState(0);\r\n  const [notification, setNotification] = useState(null);\r\n  const [playlist, setPlaylist] = useState(null);\r\n  const [isTokenFound, setTokenFound] = useState(false);\r\n  const [songPlaying, setSongPlaying] = useState(\"\");\r\n  const [volume, setVolume] = useState(1);\r\n\r\n  useEffect(() => {\r\n    getToken(setTokenFound);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (notification) {\r\n      console.log(\"notification\", notification);\r\n      switch (notification.action) {\r\n        case \"PLAYLIST\":\r\n          axios.get(`/playlist/${notification.body}`).then((result) => {\r\n            setCurrentlyPlaying(0);\r\n            setPlaylist(result.data.playlist);\r\n          });\r\n          break;\r\n        case \"VOLUME\":\r\n          console.log(notification.body);\r\n          console.log(parseFloat(notification.body));\r\n          setVolume(parseFloat(notification.body));\r\n          break;\r\n      }\r\n    }\r\n  }, [notification]);\r\n\r\n  useEffect(() => {\r\n    if (playlist && playlist.songs.length > 0) {\r\n      console.log(playlist.songs[0]);\r\n      setSongPlaying(playlist.songs[0].url);\r\n    }\r\n  }, [playlist]);\r\n\r\n  useEffect(() => {\r\n    console.log(currentlyPlaying);\r\n    if (playlist && currentlyPlaying > 0) {\r\n      console.log(playlist, playlist.songs.length, currentlyPlaying);\r\n      if (\r\n        playlist.songs.length > 0 &&\r\n        playlist.songs.length >= currentlyPlaying\r\n      ) {\r\n        if (playlist.songs[currentlyPlaying] != null)\r\n          setSongPlaying(playlist.songs[currentlyPlaying].url);\r\n      }\r\n    }\r\n  }, [currentlyPlaying]);\r\n\r\n  onMessageListener()\r\n    .then((payload) => {\r\n      setShow(true);\r\n      setNotification({\r\n        action: payload.data.action,\r\n        body: payload.data.body,\r\n      });\r\n    })\r\n    .catch((err) => console.log(\"failed: \", err));\r\n\r\n  const handleOnEnded = () => {\r\n    console.log(\"on ended\");\r\n    setCurrentlyPlaying(currentlyPlaying + 1);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    props.logoutUser();\r\n  };\r\n\r\n  const handleVolumeChange = (event) => {\r\n    setVolume(event.srcElement.volume);\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Slideshow />\r\n      <ReactAudioPlayer\r\n        src={songPlaying}\r\n        controls\r\n        autoPlay\r\n        style={{ marginTop: 20 }}\r\n        onEnded={handleOnEnded}\r\n        volume={volume}\r\n        onVolumeChanged={handleVolumeChange}\r\n        className=\"player-app\"\r\n      />\r\n      <Button\r\n        variant=\"dark\"\r\n        className=\"logout\"\r\n        size=\"lg\"\r\n        onClick={handleLogout}\r\n      >\r\n        Logout\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nPlayer.propTypes = {\r\n  logoutUser: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({});\r\n\r\nconst mapActionsToProps = {\r\n  logoutUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(Player);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Container, Card, Form, Button } from \"react-bootstrap\";\r\nimport \"./login.css\";\r\n\r\n//REDUX\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../redux/actions/userActions\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Login(props) {\r\n  const [password, setPassword] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n\r\n  //Destructure props\r\n  const {\r\n    UI: { loading },\r\n  } = props;\r\n\r\n  //Update state with errors\r\n  useEffect(() => {\r\n    props.UI.errors && setErrors(props.UI.errors);\r\n  }, [props.UI.errors]);\r\n\r\n  //Method to handle form submission\r\n  const handleLogin = (event) => {\r\n    event.preventDefault();\r\n    const data = { accessCode: password };\r\n    props.loginUser(data, props.history);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"flex flex-1 flex-col background\"\r\n      style={{ minHeight: \"100vH\" }}\r\n    >\r\n      <Container>\r\n        <h1 className=\"title\">MERCEDES</h1>\r\n        <Form onSubmit={handleLogin}>\r\n          <Card>\r\n            <Form.Group controlId=\"formBasicPassword\">\r\n              <Form.Label className=\"label\"> Access Code </Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                className={errors.error ? \"form is-invalid\" : \"form\"}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n              <p className=\"error-text\" hidden={!errors.error}>\r\n                {errors.error}\r\n              </p>\r\n              <Button\r\n                variant=\"secondary\"\r\n                size=\"lg\"\r\n                type=\"submit\"\r\n                className=\"submit-button\"\r\n                disabled={loading}\r\n              >\r\n                {loading ? \"Logging in...\" : \"Login\"}\r\n              </Button>\r\n            </Form.Group>\r\n          </Card>\r\n        </Form>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  user: PropTypes.object.isRequired,\r\n  UI: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n  UI: state.UI,\r\n});\r\n\r\nconst mapActionsToProps = {\r\n  loginUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapActionsToProps)(Login);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n//Authorization route for pages only unauthenticated users can access\r\nconst authRoute = ({ component: Component, authenticated, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      authenticated === true ? <Redirect to=\"/\" /> : <Component {...props} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  authenticated: state.user.authenticated,\r\n});\r\n\r\nauthRoute.propTypes = {\r\n  user: PropTypes.object,\r\n};\r\n\r\nexport default connect(mapStateToProps)(authRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PropTypes from \"prop-types\";\r\n\r\n//Authorization route for pages for authenticated users\r\nconst authRoute = ({ component: Component, authenticated, role, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        !authenticated ? <Redirect to=\"/login\" /> : <Component {...props} />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  authenticated: state.user.authenticated,\r\n});\r\n\r\nauthRoute.propTypes = {\r\n  authenticated: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps)(authRoute);\r\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from \"axios\";\nimport jwtDecode from \"jwt-decode\";\n\nimport { Fragment } from \"react\";\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n/* REDUX */\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutUser, getUserData } from \"./redux/actions/userActions\";\n\nimport Player from \"./components/player\";\nimport Slideshow from \"./components/slideshow\";\nimport Login from \"./components/login\";\n\nimport AuthRoute from \"./util/authRoute\";\nimport AuthRouteLogged from \"./util/authRouteLogged\";\n\naxios.defaults.baseURL = \"https://smarthack.herokuapp.com\";\n\nconst token = localStorage.token;\n\n//Check validity of JWT token\nif (token) {\n  const decodedToken = jwtDecode(token);\n  //Check if token is expired\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUser());\n    window.location.href = \"/login\";\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common[\"Authorization\"] = token;\n    store.dispatch(getUserData());\n  }\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Fragment>\n        <Provider store={store}>\n          <Router>\n            <Switch>\n              <AuthRouteLogged exact path=\"/\" component={Player} />\n              <AuthRoute exact path=\"/login\" component={Login} />\n            </Switch>\n          </Router>\n        </Provider>\n      </Fragment>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\nreportWebVitals();\n"],"sourceRoot":""}